{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nexport default  function fetchPictures (URL) {\n  return fetch(URL)\n  .then((response) => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  })\n}\n\n","export default function setGallery(data, selector) {\n  const gallery = data.reduce((acc, item) => {\n    const {\n      likes,\n      views,\n      comments,\n      downloads,\n      tags,\n      previewURL,\n      largeImageURL,\n      webformatURL,\n    } = item;\n    acc += `<li class='gallery-item'>\n                  <a class='gallery-link' href= ${largeImageURL}>\n                    <img class=\"gallery-image\" src=${webformatURL} alt =\"${tags}\" width =\"360\" height =\"152\">\n                    </a>\n                      <div class =\"conteiner-comments\">\n                        <div class= \"container-comment\">\n                          <span class=\"comments-name\">Likes</span>\n                          <span class =\"comments-value\"> ${likes}</span>\n                        </div>\n                        <div class= \"container-comment\">\n                          <span class=\"comments-name\">Views</span>\n                          <span class =\"comments-value\"> ${views}</span>\n                        </div>\n                        <div class= \"container-comment\">\n                          <span class=\"comments-name\">Comments</span>\n                          <span class =\"comments-value\"> ${comments}</span>\n                         </div>\n                        <div class= \"container-comment\">\n                          <span class=\"comments-name\">Downloads</span>\n                          <span class =\"comments-value\"> ${downloads}</span>\n                        </div> \n                      </div>\n                      </li>`;\n    return acc;\n  }, '');\n\n  document.querySelector(selector).innerHTML = gallery;\n}\n","// IMPORT\nimport fetchPictures from './js/pixabay-api.js';\nimport setGallery from './js/render-functions.js';\n// iziToast\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n// SimpleLightbox\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n// VARIABLE\n// VARIABLE DOM\nconst btnSearch = document.querySelector('.btn-search');\nconst inputSearch = document.querySelector('.input-search');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nloader.style.display = 'none';\n\n// VARIABLE API\nconst API_KEY = '15611929-f0ad527e9fe4615e5eed3c151';\nconst urlApi = `https://pixabay.com/api/?`;\nconst searchParams = new URLSearchParams({\n  key: API_KEY,\n  q: inputSearch.value,\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n});\n\n// FUNCTION\nfunction errorMessage(data) {\n  iziToast.error({\n    // title: 'Error:',\n    message: data,\n    position: 'topRight',\n    messageColor: 'white',\n    backgroundColor: 'rgb(238, 4, 50)',\n    theme: 'dark',\n    color: 'red',\n    maxWidth: '432',\n    messageSize: '16',\n    titleSize: '16',\n    progressBar: false,\n  });\n}\n\n// CODE\nloader.style.display = 'none';\nbtnSearch.addEventListener('click', event => {\n  event.preventDefault();\n  gallery.textContent = '';\n  searchParams.set(\"q\",inputSearch.value)\n\n  if (inputSearch.value.trim() === '' || inputSearch.value.trim() === ' ') {\n    const messsage = 'please, fill the search request';\n    errorMessage(messsage);\n    return;\n  } \n  else {\n    loader.style.display = 'block';\n    const URL = `${urlApi}${searchParams}`;\n    setTimeout(() => {\n      fetchPictures(URL).then(users => {\n        if (users.hits.length === 0) {\n          loader.style.display = 'none';\n          const messsage = `Sorry, there are no images matching your search query.\n                 Please try again!`;\n          errorMessage(messsage);\n          inputSearch.value = '';\n        } \n        else {\n          loader.style.display = 'none';\n          setGallery(users.hits, '.gallery');\n          const lightbox = new SimpleLightbox('.gallery-item a', {\n            captionSelector: 'img',\n            captions: true,\n            captionType: 'attr',\n            captionsData: 'alt',\n            captionPosition: 'bottom',\n            captionDelay: 250,\n            overlayOpacity: 1,\n            className: 'custom-lightbox',\n            docClose: true,\n            animationSpeed: 500,\n            fadeSpeed: 500,\n            rtl: true,\n          });\n\n          lightbox.refresh();\n          inputSearch.value = '';\n        }\n      });\n    }, 1000);\n  }\n});\n\n// const lightbox = new SimpleLightbox('.gallery a', {\n//     captionSelector: 'img',\n//     captions: true,\n//     captionType: 'attr',\n//     captionsData: 'alt',\n//     captionPosition: 'bottom',\n//     captionDelay: 250,\n//     overlayOpacity: 1,\n//     className: 'custom-lightbox',\n//     docClose:\ttrue,\n//     animationSpeed:\t500,\n//     // animationSlide:\ttrue,\n//     fadeSpeed:\t500,\n//     rtl:\ttrue,\n//   })\n\n//   console.log(lightbox);\n\n//   const buttonArrow = document.querySelector(\"button\")\n//   lightbox.on('shown.simplelightbox', function () {\n// \tconst buttons = document.querySelectorAll(\"button\");\n//   const counter = document.querySelector(\".sl-counter\");\n//   buttons.forEach(value => value.style.color =\"white\");\n//   counter.style.color =\"white\"\n\n// });\n\n// document.addEventListener(\"DOMContentLoaded\", );\n// не \"document.onDOMContentLoaded = ...\"\n"],"names":["fetchPictures","URL","response","setGallery","data","selector","gallery","acc","item","likes","views","comments","downloads","tags","previewURL","largeImageURL","webformatURL","btnSearch","inputSearch","loader","API_KEY","urlApi","searchParams","errorMessage","iziToast","event","users","SimpleLightbox"],"mappings":"6vBACgB,SAASA,EAAeC,EAAK,CAC3C,OAAO,MAAMA,CAAG,EACf,KAAMC,GAAa,CAClB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCTe,SAASC,EAAWC,EAAMC,EAAU,CACjD,MAAMC,EAAUF,EAAK,OAAO,CAACG,EAAKC,IAAS,CACzC,KAAM,CACJ,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,EACA,KAAAC,EACA,WAAAC,EACA,cAAAC,EACA,aAAAC,CACD,EAAGR,EACJ,OAAAD,GAAO;AAAA,kDACuCQ,CAAa;AAAA,qDACVC,CAAY,UAAUH,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,2DAKpBJ,CAAK;AAAA;AAAA;AAAA;AAAA,2DAILC,CAAK;AAAA;AAAA;AAAA;AAAA,2DAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,2DAIRC,CAAS;AAAA;AAAA;AAAA,6BAIzDL,CACR,EAAE,EAAE,EAEL,SAAS,cAAcF,CAAQ,EAAE,UAAYC,CAC/C,CC3BA,MAAMW,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAc,SAAS,cAAc,eAAe,EACpDZ,EAAU,SAAS,cAAc,UAAU,EAC3Ca,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OAGvB,MAAMC,EAAU,qCACVC,EAAS,4BACTC,EAAe,IAAI,gBAAgB,CACvC,IAAKF,EACL,EAAGF,EAAY,MACf,WAAY,QACZ,YAAa,aACb,WAAY,EACd,CAAC,EAGD,SAASK,EAAanB,EAAM,CAC1BoB,EAAS,MAAM,CAEb,QAASpB,EACT,SAAU,WACV,aAAc,QACd,gBAAiB,kBACjB,MAAO,OACP,MAAO,MACP,SAAU,MACV,YAAa,KACb,UAAW,KACX,YAAa,EACjB,CAAG,CACH,CAGAe,EAAO,MAAM,QAAU,OACvBF,EAAU,iBAAiB,QAASQ,GAAS,CAK3C,GAJAA,EAAM,eAAc,EACpBnB,EAAQ,YAAc,GACtBgB,EAAa,IAAI,IAAIJ,EAAY,KAAK,EAElCA,EAAY,MAAM,SAAW,IAAMA,EAAY,MAAM,KAAM,IAAK,IAAK,CAEvEK,EADiB,iCACI,EACrB,MACD,KACI,CACHJ,EAAO,MAAM,QAAU,QACvB,MAAMlB,EAAM,GAAGoB,CAAM,GAAGC,CAAY,GACpC,WAAW,IAAM,CACftB,EAAcC,CAAG,EAAE,KAAKyB,GAAS,CAC3BA,EAAM,KAAK,SAAW,GACxBP,EAAO,MAAM,QAAU,OAGvBI,EAFiB;AAAA,mCAEI,EACrBL,EAAY,MAAQ,KAGpBC,EAAO,MAAM,QAAU,OACvBhB,EAAWuB,EAAM,KAAM,UAAU,EAChB,IAAIC,EAAe,kBAAmB,CACrD,gBAAiB,MACjB,SAAU,GACV,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAc,IACd,eAAgB,EAChB,UAAW,kBACX,SAAU,GACV,eAAgB,IAChB,UAAW,IACX,IAAK,EACjB,CAAW,EAEQ,QAAO,EAChBT,EAAY,MAAQ,GAE9B,CAAO,CACF,EAAE,GAAI,CACR,CACH,CAAC"}